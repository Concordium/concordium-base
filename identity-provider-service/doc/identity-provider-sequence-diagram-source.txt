title Identity provider proof of concept


App->Identity provider: POST identity-provider-url?response_type=code \n Body {IdentityObjectRequest}
Identity provider->Identity provider: Validate request
Identity provider->Identity verifier: Verify identity
Identity verifier->Identity provider: Verification result and attribute list
Identity provider->Identity provider: Create identity object and initial account transaction,\n save revocation record and identity object
Identity provider->Wallet proxy: PUT v0/submitCredential \n Submit initial account creation
Wallet proxy->Identity provider: { "submissionId": "..." } or HTTP 400 bad request or HTTP 5**
loop Poll for initial account until finalized or absent
   Identity provider->Wallet proxy: GET /v0/submissionStatus/{submissionId}
   Wallet proxy->Identity provider: { "status": "(finalized|committed|pending|absent)" }
end

Identity provider->App: HTTP 302 Found \n Location {redirect_uri}#code_uri=identity-provider-url/path/to/identity-object

loop Poll for identity object
    App->Identity provider: GET identity-provider-url/path/to/identity-object
    Identity provider->App: { "status": "(done|pending|error)", "detail":"Optional", \n "token": { "identityObject": {..}, "accountAddress": "..." }}
end
